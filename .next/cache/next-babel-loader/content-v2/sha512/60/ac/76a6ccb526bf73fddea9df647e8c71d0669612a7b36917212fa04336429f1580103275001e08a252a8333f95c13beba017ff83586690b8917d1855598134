{"ast":null,"code":"import _regeneratorRuntime from \"/Users/peterskriba/Documents/GitHub/work/k2projekt/k2projekt-website/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/peterskriba/Documents/GitHub/work/k2projekt/k2projekt-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/peterskriba/Documents/GitHub/work/k2projekt/k2projekt-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/peterskriba/Documents/GitHub/work/k2projekt/k2projekt-website/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/peterskriba/Documents/GitHub/work/k2projekt/k2projekt-website/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/peterskriba/Documents/GitHub/work/k2projekt/k2projekt-website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/peterskriba/Documents/GitHub/work/k2projekt/k2projekt-website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Layout from '../components/layout';\nimport React from \"react\";\nimport moment from 'moment';\n\nrequire('isomorphic-fetch');\n\nvar StudiosHeadingStyle = {\n  minHeight: '30vh',\n  height: 300,\n  boxSizing: 'border-box',\n  paddingTop: 80,\n  background: 'url(/static/studios.jpg) no-repeat',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center, center',\n  color: '#000'\n};\nvar StudiosHeadingTextStyle = {\n  maxWidth: '600px',\n  padding: '10px 20px 20px',\n  borderRadius: '1px',\n  backgroundColor: 'rgba(0, 0, 0, .85)',\n  margin: '0 auto',\n  textAlign: 'center',\n  color: '#fff'\n};\n\nvar Post = /*#__PURE__*/function (_React$Component) {\n  _inherits(Post, _React$Component);\n\n  var _super = _createSuper(Post);\n\n  function Post() {\n    _classCallCheck(this, Post);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Post, [{\n    key: \"sliceDescription\",\n    value: function sliceDescription(description) {\n      var str = description.toLowerCase();\n      var result = [];\n      var idx = str.indexOf(\"\\n\");\n\n      while (idx !== -1) {\n        result.push(idx);\n        idx = str.indexOf(\"\\n\", idx + 1);\n      }\n\n      return description.substring(0, result[1] + 1);\n    }\n  }, {\n    key: \"formatDate\",\n    value: function formatDate(date) {\n      return moment(date).format('DD.MM.YYYY HH:mm:ss');\n    }\n  }, {\n    key: \"getArticleId\",\n    value: function getArticleId(id) {\n      return id.substring(id.lastIndexOf('/') + 1, id.length);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      console.log(this.props);\n      return __jsx(\"div\", null, __jsx(Layout, null, __jsx(\"style\", {\n        scoped: true\n      }, \"\\n                    .new-style{        \\n                        margin-top: 25px;\\n                        margin-left:auto;\\n                        margin-right: auto;\\n                        width: 1000px;\\n                    }\\n                    .new-style-inner-header{\\n                        padding: 19px 30px;\\n                        width: 940px;\\n                        background-color: #000000;\\n                        color: #FFFFFF;\\n                    }\\n                    .new-style-inner-header h1{\\n                        font-size: 46px;\\n                        line-height: 54px;\\n                    }\\n                    .new-style-inner-header p{\\n                        font-size: 14px;\\n                        line-height: 22px;\\n                    }\\n                    .new-style-inner{\\n                        padding: 19px 30px;\\n                        width: 940px;\\n                    }\\n                    .innerHtml p{\\n                        font-size: 18px;\\n                        line-height: 25px;\\n                        text-align: justify;\\n                    }\\n                    .innerHtml a{\\n                        color: #000;\\n                        font-weight: bold;          \\n                    }\\n                    .innerHtml a:hover{\\n                        text-decoration: none;        \\n                    }\\n                    .innerHtml img {\\n                      width: 100%;\\n                  }\\n                    div .div-class{\\n                        width:500px; height:500px; background-color:#000000;\\n                    }        \\n                    .date{\\n                        font-size: 14px;\\n                        font-height: 22px;\\n                        color: #434343;\\n                    }\\n                    @media (max-width: 1020px) {\\n                    .new-style-inner{\\n                        width: auto;\\n                        margin: 0px 30px;\\n                    }\\n                    .new-style-inner-header{\\n                        width: auto;\\n                        margin: 0px 30px;\\n                    }\\n                    .new-style{\\n                        width: auto;\\n                    }\\n                    \\n                    }\\n                    @media (min-width: 48em) {\\n                      .studio-block {\\n                        max-width: 1200px;\\n                        min-height: 70vh;\\n                        margin: 0 auto;\\n                      }\\n                    }\\n                  \"), __jsx(\"section\", {\n        style: StudiosHeadingStyle\n      }, __jsx(\"div\", {\n        style: StudiosHeadingTextStyle\n      }, __jsx(\"h2\", null, \"Blog\"))), __jsx(\"section\", {\n        style: {\n          width: '100%',\n          backgroundColor: '#FFFFFF'\n        }\n      }, this.props.articles ? this.props.articles.map(function (article) {\n        var articleId = article.guid.substring(article.guid.lastIndexOf('/') + 1, article.length);\n\n        if (articleId == _this.props.url.query.id) {\n          return __jsx(\"div\", {\n            className: \"new-style\"\n          }, __jsx(\"div\", {\n            className: \"new-style-inner-header\"\n          }, __jsx(\"h1\", null, article.title), __jsx(\"p\", null, _this.formatDate(article.pubDate))), __jsx(\"div\", {\n            className: \"new-style-inner\"\n          }, __jsx(\"div\", null, __jsx(\"div\", {\n            className: \"innerHtml\",\n            dangerouslySetInnerHTML: {\n              __html: article.content\n            }\n          }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(\"div\", {\n            style: {\n              width: 150,\n              margin: \"0 auto\"\n            }\n          }, __jsx(\"a\", {\n            href: article.link,\n            target: \"_blank\"\n          }, __jsx(\"img\", {\n            src: \"../static/blog/medium-logo.svg\",\n            style: {\n              width: 150\n            }\n          }))))));\n        }\n      }) : '')));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var res, json;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@k2projekt.sk');\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                json = _context.sent;\n                return _context.abrupt(\"return\", {\n                  articles: json.items\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Post;\n}(React.Component);\n\nexport { Post as default };","map":null,"metadata":{},"sourceType":"module"}